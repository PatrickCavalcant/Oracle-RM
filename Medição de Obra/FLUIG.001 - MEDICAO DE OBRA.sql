SELECT 
(MPRJ.CODPRJ || ' - ' || MPRJ.DESCRICAO) AS PROJETO,
MPRJ.IDPRJ AS IDPRJ,
MCNT.NUMCNT AS CONTRATO,
MCNT.IDCNT AS IDCNT,
CONVERT(VARCHAR, MPDO.RECMODIFIEDON, 103) AS DATAMODIFICA,
MPDO.PERIODOMED AS PERIODOMED,
MPDO.CLASSIFICACAO AS PERCLASSIFICACAO,
SUBSTRING(MCNT.CODCFO, 6, LEN(MCNT.CODCFO)) AS CODCFO,
FCFO.NOMEFANTASIA AS FORNECEDOR,
MCNTCOMPL.APROVADMCNT AS APROVADMCNT,
MCNTCOMPL.APROVQLD AS APROVQLD,
MCNTCOMPL.APROVSGN AS APROVSGN,
MCNT.VALORCONTRATO AS VALORCONTRATO
FROM MCNT MCNT
INNER JOIN MPRJ MPRJ ON	MCNT.IDPRJ = MPRJ.IDPRJ 
INNER JOIN MPDO MPDO ON	MCNT.IDCNT = MPDO.IDCNT AND MCNT.IDPRJ = MPDO.IDPRJ
INNER JOIN MCNTCOMPL MCNTCOMPL ON MCNT.IDCNT = MCNTCOMPL.IDCNT AND MCNT.IDPRJ = MCNTCOMPL.IDPRJ
INNER JOIN FCFO FCFO ON	MCNT.CODCFO = FCFO.CODCFO
WHERE
MPDO.VISIVELPORTAL = 1
AND CONVERT(VARCHAR, MPDO.RECMODIFIEDON, 103) = CONVERT(VARCHAR, getdate(), 103)
ORDER BY MCNT.IDCNT